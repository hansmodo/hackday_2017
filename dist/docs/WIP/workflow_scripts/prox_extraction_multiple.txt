#!/usr/bin/env php 
<?php
	$selected_file_path = $_ENV['TM_SELECTED_FILE'];
	$file_path_parts = explode('/',$selected_file_path);
	$file = array_pop($file_path_parts);
	$document = file_get_contents('php://stdin');

////// BEGIN DICTIONARIES/////////////////////////////////

		$relationship_matrix = array(
			'gwa' => array('chg'=>'colleague','thm'=>'colleague','pjs'=>'co-worker met','nag'=>'co-worker met','jsu'=>'co-worker','isp'=>'co-worker','rim'=>'co-worker','bea'=>'co-worker','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'co-worker','joh'=>'colleague','hek'=>'co-worker','rom'=>'colleague','gec'=>'colleague','wih'=>'co-worker','jhc'=>'colleague','bel'=>'co-worker','jol'=>'co-worker met friend','joj'=>'co-worker met friend','alh'=>'co-worker met','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary colleague','thw'=>'colleague','jor'=>'colleague','dab'=>'co-worker','atw'=>'co-worker','laf'=>'co-worker met friend','alm'=>'co-worker','hog'=>'co-worker','ben'=>'','thj'=>'colleague met','mad'=>'colleague met','jam'=>'co-worker met','jod'=>'colleague','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'co-worker','jhs'=>'co-worker','wli'=>'colleague','cdr'=>'co-worker met','cdl'=>'co-worker','jac'=>'co-worker','frs'=>'co-worker met','cdt'=>'colleague','frm'=>'co-worker','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'co-worker','roh'=>'colleague'),
			'laf' => array('gwa'=>'co-worker friend met','chg'=>'co-worker','thm'=>'co-worker','nag'=>'co-worker met friend','jsu'=>'co-worker','isp'=>'co-worker','rim'=>'colleague','bea'=>'co-worker','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'co-worker met','rom'=>'co-worker','gec'=>'colleague','wih'=>'co-worker met','jhc'=>'colleague','bel'=>'co-worker met','jol'=>'colleague met','joj'=>'colleague','alh'=>'co-worker met','kap'=>'co-worker','cde'=>'co-worker met','jhb'=>'adversary colleague','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague met','pjs'=>'co-worker','alm'=>'co-worker','hog'=>'co-worker','ben'=>'colleague friend met','thj'=>'colleague met co-worker','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'co-worker met','jhs'=>'co-worker','wli'=>'co-worker','cdr'=>'co-worker','cdl'=>'co-worker','jac'=>'colleague','frs'=>'co-worker met','cdt'=>'co-worker','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jod'=>'colleague met','tmp'=>'colleague'),
			'chg' => array('gwa'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'thm' => array('gwa'=>'colleague','chg'=>'colleague','pjs'=>'colleague met','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague'),
			'pjs' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague met','nag'=>'colleague met','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague met','bea'=>'colleague met','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague met','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague met kin','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague met','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague met','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jad'=>'colleague'),
			'nag' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague met','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague met','joj'=>'colleague','alh'=>'colleague met','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague met','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','atw'=>'colleague met','jhr'=>'met','cdt'=>'colleague','frm'=>'colleague met','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'jsu' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'colleague','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','rom'=>'colleague'),
			'isp' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'hog' => array('gwa'=>'colleague met','chg'=>'colleague','pjs'=>'colleague','thm'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague met','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'me','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'rim' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague met','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','bea'=>'colleague met','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague met','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'bea' => array('gwa'=>'colleague met','chg'=>'colleague met','thm'=>'colleague met','pjs'=>'colleague met','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague met','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague met','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'pah' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','cdt'=>'colleague'),
			'nic' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague'),
			'jht' => array('gwa'=>'colleague met friend','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague met','jod'=>'colleague','dah'=>'friend met','jab'=>'colleague met'),
			'daw' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague met','pjs'=>'colleague met','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague met','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'joh' => array('gwa'=>'colleague met friend','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague met','ben'=>'colleague met','thj'=>'colleague met','mad'=>'colleague met','jam'=>'colleague met','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'colleague','aab'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague'),
			'hek' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague met','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague met','daw'=>'colleague','joh'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague met','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jod'=>'colleague met','wib'=>'met'),
			'rom' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','gom'=>'friend met colleague'),
			'gec' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague sibling met','frs'=>'colleague'),
			'wih' => array('gwa'=>'colleague','chg'=>'colleague met','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague met','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague met','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague met','cdl'=>'colleague met','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague met'),
			'jhc' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague'),
			'bel' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jod'=>'colleague'),
			'jol' => array('gwa'=>'co-worker friend met','chg'=>'co-worker','thm'=>'co-worker','pjs'=>'co-worker','nag'=>'co-worker met','jsu'=>'co-worker met','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','joj'=>'colleague','alh'=>'colleague met friend','kap'=>'colleague','cde'=>'colleague met','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague met friend','alm'=>'colleague','hog'=>'co-worker','ben'=>'co-worker','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'co-worker met','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','frm'=>'colleague'),
			'joj' => array('gwa'=>'co-worker met friend','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague met friend','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague met friend','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','alh'=>'colleague met','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'colleague met','jod'=>'colleague met friend','thj'=>'colleague','mad'=>'colleague','jam'=>'colleague','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','ewr'=>'colleague met friend','gom'=>'colleague friend met','edp'=>'colleague','jal'=>'colleague','wig'=>'colleague met','ruk'=>'colleague met','sid'=>'colleague','wib'=>'colleague met friend','wwi'=>'colleague','rcp'=>'colleague','geo'=>'colleague','now'=>'colleague','dah'=>'colleague','tom'=>'colleague'),
			'alh' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague met kin','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague met','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague met','jol'=>'colleague','joj'=>'colleague','kap'=>'colleague','cde'=>'colleague met','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague friend met','alm'=>'colleague met','hog'=>'colleague met','ben'=>'colleague','thj'=>'','mad'=>'colleague','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague met adversary','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','ruk'=>'colleague met'),
			'kap' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'cde' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague met','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague met','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague met','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'jhb' => array('gwa'=>'adversary','chg'=>'adversary','thm'=>'adversary','pjs'=>'adversary','nag'=>'adversary','jsu'=>'adversary','isp'=>'adversary','rim'=>'adversary','bea'=>'adversary','pah'=>'adversary','nic'=>'adversary','jht'=>'adversary','daw'=>'adversary','joh'=>'adversary','hek'=>'adversary','rom'=>'adversary','gec'=>'adversary','wih'=>'adversary','jhc'=>'adversary','bel'=>'adversary','jol'=>'adversary','joj'=>'adversary','alh'=>'adversary','kap'=>'adversary','cde'=>'adversary','thw'=>'adversary','jor'=>'adversary','dab'=>'adversary','atw'=>'adversary','laf'=>'adversary','alm'=>'adversary','hog'=>'adversary','ben'=>'adversary','thj'=>'adversary','mad'=>'adversary','jam'=>'adversary','tip'=>'adversary','rip'=>'adversary','edr'=>'adversary','rot'=>'adversary','sam'=>'adversary','aab'=>'adversary','rhl'=>'adversary','chl'=>'adversary','arc'=>'adversary','jhs'=>'adversary','wli'=>'adversary','cdr'=>'adversary','cdl'=>'adversary','jac'=>'adversary','frs'=>'adversary','cdt'=>'adversary'),
			'thw' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague'),
			'jor' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague'),
			'dab' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'aab' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague met','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'rhl' => array('gwa'=>'colleague met friend','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague friend met','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','tmp'=>'colleague','jod'=>'colleague'),
			'chl' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'arc' => array('gwa'=>'colleague met','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague met','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','wih'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague met','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague met','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague met','chl'=>'colleague','jhs'=>'colleague','wli'=>'colleague','cdr'=>'colleague','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'wli' => array('gwa'=>'colleague','chg'=>'colleague','thm'=>'colleague','pjs'=>'colleague','nag'=>'colleague','jsu'=>'colleague','isp'=>'colleague','rim'=>'colleague','bea'=>'colleague','pah'=>'colleague','nic'=>'colleague','jht'=>'colleague','daw'=>'colleague','joh'=>'colleague','hek'=>'colleague','rom'=>'colleague','gec'=>'colleague','jhc'=>'colleague','bel'=>'colleague','jol'=>'colleague','joj'=>'colleague','alh'=>'colleague','kap'=>'colleague','cde'=>'colleague','jhb'=>'adversary','thw'=>'colleague','jor'=>'colleague','dab'=>'colleague','atw'=>'colleague','laf'=>'colleague met','alm'=>'colleague','hog'=>'colleague','ben'=>'','thj'=>'','mad'=>'','jam'=>'','tip'=>'colleague','rip'=>'colleague','edr'=>'colleague','rot'=>'colleague','sam'=>'','aab'=>'colleague','arc'=>'colleague','frs'=>'colleague','cdt'=>'colleague','frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','jhs'=>'colleague','wih'=>'colleague','wli'=>'me','cdr'=>'colleague met','cdl'=>'colleague','jac'=>'colleague','frs'=>'colleague','cdt'=>'colleague'),
			'aba' => array('aba'=>'me','thj'=>'friend met','gwa'=>'acquaintance met','laf'=>'acquaintance met','jod'=>'friend met spouse','jqa'=>'met child','cha'=>'met child','dol'=>'met acquaintance','ben'=>'met acquaintance','joj'=>'met acquaintance','jol'=>'met','thm'=>'acquaintance','jab'=>'acquaintance met','jal'=>'acquaintance','mad'=>'acquaintance','cde'=>'acquaintance met','jsu'=>'acquaintance met'),
			'jod' => array('jod' => 'me','aba'=>'spouse met friend','gwa'=>'colleague met','mad'=>'colleague met','dol'=>'acquaintance met','thj'=>'colleague met','aab'=>'colleague met','joj'=>'colleague met friend','jqa'=>'met colleague child','jam'=>'colleague met','cde'=>'colleague met acquaintance','hel'=>'colleague met','rot'=>'met','joh'=>'colleague met','ben'=>'colleague met','bel'=>'colleague met friend','jam'=>'colleague','rom' => 'colleague met','alh'=>'colleague met','pah'=>'colleague','tip'=>'colleague met'),
			'ben' => array('jod' => 'colleague met','thj' => 'colleague met','hel' => 'colleague','sid' => 'colleague','joj' => 'colleague met','thw'=>'friend met co-worker','jab'=>'met','joh'=>'acquaintance','edp'=>''),
			'hnb' => array('aab'=>'colleague met','jde'=>'friend met'),
			'rol' => array('gwa' => 'colleague','hek'=>'met','thj'=>'colleague met','tmp'=>'colleague friend'),
			'jej' => array('gwa' => 'colleague','rom' => 'colleague met','mad' => 'colleague','hog' => 'colleague','nag' => 'colleague','tip' => 'colleague',),
			'toc' => array('gwa' => 'colleague','bel'=>'colleague','jhb'=>'adversary'),
			'jhr' => array('gwa' => 'colleague','nag'=>'colleague'),
			'jad' => array('gwa' => 'colleague','jod'=>'colleague','pjs'=>'colleague','jol'=>'colleage met','cdl'=>'colleague'),
			'cdt' => array('gwa' => 'colleague','cdr'=>'colleague','cdl'=>'colleague','laf'=>'colleague','cde'=>'colleague'),
			'cdr' => array('gwa' => 'colleague met','cdl'=>'colleague met','laf'=>'colleague met','cde'=>'colleague met'),
			'frm' => array('nag' => 'colleague met','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','all'=>'colleague met'),
			'top' => array('frm'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'ccp' => array('frm'=>'colleague','top'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague','bel'=>'colleague'),
			'peh' => array('frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','crg'=>'colleague','anp'=>'colleague','roh'=>'colleague'),
			'jhm' => array('roh'=>'colleague','jol'=>'colleague','nag'=>'colleague met','jhr'=>'colleague','all'=>'adversary'),
			'crg' => array('frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague met friend','anp'=>'colleague','roh'=>'colleague','nag'=>'colleague'),
			'anp' => array('frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','roh'=>'colleague','jaw'=>'colleague'),
			'roh' => array('frm'=>'colleague','top'=>'colleague','ccp'=>'colleague','peh'=>'colleague','crg'=>'colleague','anp'=>'colleague','wid'=>'colleague'),
			'frs' => array('gwa' => 'colleague met','jsu' => 'colleague met','nag' => 'colleague'),
			'jac' => array('gwa' => 'colleague','gec' => 'colleague met sibling','jhs' => 'colleague met','pjs'=>'colleague met'),
			'jbu' => array('nag' => 'colleague met','frm' => 'colleague','peh' => 'colleague'),
			'all' => array('nag' => 'adversary','frm' => 'adversary','peh' => 'adversary'),
			'lab' => array('nag' => 'colleague','frm' => 'colleague','peh' => 'colleague'),
			'wid' => array('' => ''),	
			'jaw' => array('nag' => 'colleague','frm' => 'colleague','peh' => 'colleague','anp'=>'colleague','atw'=>'colleague'),
			
			'ewr' => array('jhr' => 'colleague met sibling'),
			'gom' => array('gwa'=>'co-worker','joj'=>'colleague friend met','rom'=>'colleague friend met','ben'=>'colleague','thj'=>'met colleague co-worker','jod'=>'colleague','laf'=>'colleague met','cdl'=>'colleague met','alh'=>'colleague','jhb'=>'adversary','pjs'=>'met colleague','hog'=>'colleague','bel'=>'colleague','met colleague','dah'=>'met','alm'=>'colleague met'),
			'edp' => array('joj'=>'colleague'),
			'jal' => array('joj'=>'colleague'),
			'wig' => array('joj'=>'colleague'),
			'ruk' => array('joj'=>'colleague'),
			'sid' => array('joj'=>'colleague'),
			'wib' => array('joj'=>'colleague'),
			'wwi' => array('joj'=>'colleague'),
			'rcp' => array('joj'=>'colleague friend met','ben'=>'colleague','jod'=>'colleague'),
			'now' => array('joj'=>'colleague'),
			'geo' => array('joj'=>'colleague'),

			'tmp' => array('gwa'=>'colleague','rom'=>'colleague met','laf'=>'colleague met friend','thj'=>'colleague met','jhr'=>'colleague met','dah'=>'colleague met','gom'=>'colleague','rol'=>'colleague friend'),
			'edr' => array('gwa'=>'colleague','rom'=>'colleague','hek'=>'met co-worker colleague','alh'=>'co-worker met','joj'=>'colleague','thj'=>'colleague','mad'=>'colleague'),
			'dah' => array('gwa'=>'colleague','bel'=>'co-worker met','anp'=>'met colleague','thj'=>'co-worker'),
			'tom' => array('gwa'=>'colleague'),
			'beh' => array('gwa'=>'colleague'),
			'cam' => array('gwa'=>'colleague'),
			'wlg' => array('gwa'=>'colleague'),	
			'jab' => array('jht'=>'colleague met'),	
			'bnh' => array('hek'=>'colleague met'),
			'cdl' => array('gwa'=>'colleague met','laf'=>'colleague met'),
			'tip' => array('gwa'=>'co-worker met','dah'=>'colleague','hek'=>'colleague met','arc'=>'co-worker','bel'=>'co-worker met','jsu'=>'co-worker','jhb'=>'adversary','atw'=>'co-worker','alm'=>'co-worker','hek'=>'co-worker met','thm'=>'co-worker met','hog'=>'co-worker'),

			'wis' => array('gom'=>'colleague met'),
			'leb' => array('gom'=>'colleague met'),
			'fro' => array('gom'=>'colleague met'),
			'fad' => array('gom'=>'colleague met'),

			'thj' => array('gwa'=>'co-worker met','joh'=>'co-worker met','pah'=>'colleague met','sam'=>'co-worker met',jod=>'co-worker met','ben'=>'co-worker met','bea'=>'','dab'=>'','nag'=>'co-worker','all'=>'','anp'=>'','atw'=>'','laf'=>'colleague met','far'=>'adversary','jhb'=>'adversary','hog'=>'co-worker met','jhr'=>'colleague','frs'=>'colleague','mad'=>'co-worker','joj'=>'co-worker','rom'=>'','hek'=>'co-worker','wis'=>'co-worker met','aba'=>'acquaintance','dah'=>'friend met co-worker','cdl'=>'colleague','jab'=>'colleague','wib'=>'colleague met'),

			'mad' => array('dol'=>'spouse met','apc'=>'kin met','jod'=>'co-worker met','gwa'=>'co-worker met','thj'=>'co-worker met friend','jam'=>'acquaintance co-worker','gem'=>'co-worker met','rom'=>'co-worker','laf'=>'acquaintance colleague met','ruk'=>'co-worker met','joj'=>'co-worker','cdr'=>'','hog'=>'','bel'=>'','thm'=>'','nag'=>'','beh'=>'colleague','sid'=>'colleague','pah'=>'co-worker','edr'=>'acquaintance co-worker','wis'=>'acquaintance co-worker met','rhl'=>'co-worker','tmp'=>'colleague','rol'=>'colleague','ben'=>'colleague','edp'=>'acquaintance co-worker met','wlg'=>'acquaintance co-worker met','tom'=>'co-worker','hek'=>'co-worker','arc'=>'contact','jab'=>'colleague','bnh'=>'colleague met','jhr'=>'colleague','ccp'=>'colleague','alh'=>'colleague','joh'=>'co-worker','gom'=>'co-worker','cdl'=>'colleague','sam'=>'co-worker','gec'=>'colleague','top'=>'colleague'),
	
			'dol' => array('aba'=>'','mad'=>'spouse met','apc'=>'sibling met friend','anj'=>'acquaintance','thj'=>'friend met'),
			
			'abl' => array('usg'=>'co-worker met'),
		);


///////////////////////////////
$name_tla_lookup = array("nimrod endsley"=>"nhe","jessie endsley"=>"jepe","elsie endsley "=>"ebe","rial bass"=>"rsb","james endsley"=>"jpe","gail brough"=>"gae","gail endsley"=>"gae","kathy endsley "=>"kje",
"daniel endsley"=>"dse","heidi brough"=>"hmb","heidi lampe"=>"hmb","hans brough"=>"hab","harvey brough"=>"harb","howard brough"=>"howb","sumner theller"=>"sbt","ruth theller"=>"rte","ruth endsley"=>"rte",
"lois curtis"=>"ltc","horace king"=>"hok","william endsley"=>"wae","mary baker"=>"mbk","jp endsley"=>"jpe",
"orion clemens"=>"oxc",
"ulysses grant"=>"usg",
"abraham lincoln"=>"abl",
"henry halleck"=>"hwh",
"ambrose burnside"=>"aeb",
"george mcclellan"=>"gbm",
"thomas jackson"=>"tjj",
"robert lee"=>"rel",
"jefferson davis"=>"jed",
"mary lee"=>"mnc",
"fitzhugh lee"=>"wfl",
"mildred lee"=>"mil",
"agnes lee"=>"agl",
"andrew johnson"=>"adj",
"enos christman"=>"ech",
"ellen apple"=>"eap",
"peebles prizer"=>"pep",
"william sherman"=>"wts",
"john wool"=>"jew",
"winfield scott"=>"wfs",
"george washington"=>"gwa",
"thomas jefferson"=>"thj",
"benjamin franklin"=>"ben",
"abiah franklin"=>"abf",
"peter franklin"=>"pef",
"andrew jackson"=>"anj",
"william marcy"=>"wlm",
"john sherman "=>"jos",
"william crawford"=>"whc",
"john forsyth"=>"jof",
"james monroe"=>"jam",
"john quincy adams"=>"jqa",
"william wirt"=>"wiw",
"james madison"=>"mad",
"dolly madison"=>"dol",
"marie-joseph-paul-yves-roch-gilbert du motier lafayette"=>"laf",
"cutts"=>"anna",
"anna cutts"=>"apc",
"elizabeth keckly"=>"ezk",
"mary lincoln"=>"mtl",
"abigail adams"=>"aba",
"abigail smith"=>"aba",
"john adams"=>"jod",
"patrick henry"=>"pah",
"richard lee"=>"rhl",
"samuel adams"=>"sam",
"arthur lee"=>"arl",
"francis lee"=>"fll",
"nathanael greene"=>"nag",
"philip schuyler"=>"pjs",
"israel putnam "=>"isp",
"william irvine"=>"wii",
"john sullivan "=>"jsu",
"timothy pickering"=>"tip",
"horatio gates "=>"hog",
"benedict arnold"=>"bea",
"edmund randolph"=>"edr",
"henry clay"=>"hec",
"aaron burr"=>"aab",
"john tyler"=>"jot",
"francis brooke"=>"ftb",
"josiah johnston"=>"jsj",
"adam beatty"=>"adb",
"henry clay"=>"hcj",
"john brown"=>"job",
"owen brown"=>"owb",
"george stearns"=>"ges",
"isaac smith"=>"job",
"theodore parker"=>"thp",
"theodosia prevost"=>"thb",
"theodosia alston"=>"tba",
"alexander mcdougall"=>"alm",
"william paterson"=>"whp",
"matthias ogden"=>"mao",
"robert troup"=>"rot",
"r alden"=>"ral",
"joseph alston"=>"joa",
"peggy gartin"=>"peg",
"richard montgomery"=>"rim",
"david wooster"=>"daw",
"david humphreys"=>"dah",
"john hancock"=>"joh",
"george mason"=>"gem",
"henry knox"=>"hek",
"robert morris"=>"rom",
"george clinton"=>"gec",
"william heath"=>"wih",
"benjamin lincoln"=>"bel",
"henry laurens"=>"hel",
"john laurens"=>"jol",
"john jay"=>"joj",
"alexander hamilton"=>"alh",
"william livingston"=>"wil",
"john burgoyne"=>"jhb",
"thomas wharton"=>"thw",
"j devereux"=>"jde",
"robert livingston"=>"rol",
"john stark"=>"jhs",
"chevalier de la luzerne"=>"cdl",
"william irvine"=>"wli",
"john rutledge"=>"jht",
"james clinton"=>"jac",
"james duane"=>"jad",
"christopher gadsden"=>"crg",
"francis marion"=>"frm",
"thomas pinckney"=>"top",
"peter horry"=>"peh",
"john matthews"=>"jhm",
"gilbert du motier lafayette"=>"laf",
"jean baptiste de vimeur"=>"cdr",
"charles pinckney"=>"ccp",
"william drayton"=>"wid",
"edward rutledge"=>"ewr",
"gouverneur morris"=>"gom",
"edmund pendleton"=>"edp",
"james lovell"=>"jal",
"rufus king"=>"ruk",
"william bingham"=>"wib",
"william wilberforce"=>"wwi",
"richard peters"=>"rcp",
"noah webster"=>"now",
"george otis"=>"geo",
"silas deane"=>"sid",
"james bowdoin"=>"jab",
"francis osborne"=>"fro",
"william short"=>"wis",
"francois deforgues"=>"fad",
"robert dinwiddie"=>"rod",
"martha washington"=>"mrd",
"mary washington"=>"mrw",
"janet livingston"=>"jnl",
"dolley madison"=>"dol",
"anna cutts"=>"apc",
);

////// END DICTIONARIES//////////////////////////////////

	//Get values for SQL statement
	$author_tla 				= get_author_tla($file);
	$recipient_tla			= get_recipient_tla();
			
	$xfn_tags 				= get_person_relationship_tags();
	$xfn_tags_alters			= $xfn_tags['alter'];	
	
	$file_parts = explode(".",$file);
	$doc_id = $file_parts[0];	

	//////////////////////////////////////////////////////
	//write sql that removes existing proximity votes associated with this letter
	echo "delete from proximity where doc_id = '$doc_id';\n";
	//write proximity vote (correspondence)
	write_correspondence_proximity_results($author_tla,$recipient_tla,$file);
	//write proximity vote(s) (all mentions)
	write_xfn_proximity_results($author_tla,$xfn_tags_alters,$file);
	//////////////////////////////////////////////////////

	//Create a sql entry that counts as one vote for the ego's act of writing a letter to alter.
	function write_correspondence_proximity_results($ego_tla,$alter_tla,$file){
		if($alter_tla && $alter_tla !=''){
			//determine strength of correspondence vote.
			$proximity		= get_ego_proximity_with_alter($ego_tla,$alter_tla,'write');

			$file_parts = explode(".",$file);
			$doc_id = $file_parts[0];			

			//proximity entry sql column names
			//ego_tla | alter_tla | proximity_component | document_id | timestamp
			$vote_row = "INSERT INTO proximity VALUES ('$ego_tla','$alter_tla',$proximity,'$doc_id',Now());\n";
			echo"$vote_row";
		}
		return;
	}

	//Create a sql entry for each xfn mention ego makes of an alter.
	function write_xfn_proximity_results($ego_tla,$xfn_tags_alters,$file){
		for($i=0;$i < count($xfn_tags_alters);$i++){
			//todo: account for more than 1 get param
			$get_str_pieces 	= explode("=", $xfn_tags_alters[$i]);
			$alter_tla		= $get_str_pieces[1];
			if($ego_tla != $alter_tla){//dont count 'me' xfn references
				$proximity		= get_ego_proximity_with_alter($ego_tla,$alter_tla,'mention');

				$file_parts = explode(".",$file);
				$doc_id = $file_parts[0];			

				//proximity entry sql column names
				//ego_tla | alter_tla | proximity_component | document_id | timestamp

				$vote_row = "INSERT INTO proximity VALUES ('$ego_tla','$alter_tla',$proximity,'$doc_id',Now());\n";
				echo"$vote_row";
			}
		}
		
		return;
	}

	//Look up three letter acronym associated with the recipient
	function get_recipient_tla(){
		//echo"in get_recipient_tla";
		global $document;
		global $name_tla_lookup;
		$ret_tla = 'unknown';
		$pattern = "/<recipient first=['\"](?<first>[\w ]*)['\"] last=['\"](?<last>[\w ]*)['\"] type=['\"][individual|position|group]*['\"]\/>/";
		preg_match($pattern, $document, $matches);
		$name = strtolower($matches['first'] . " " . $matches['last']);
		//echo"name= " . $name;
		
		$ret_tla = $name_tla_lookup[$name];
		//echo" tla = " . $ret_tla ."\n";
		return $ret_tla;
	}

	//Look up xfn relationship of ego to the recipeint (alter)
	//action is 'write' or 'mention' - written proximity votes count for more than mere mentions
	function get_ego_proximity_with_alter($ego_tla,$alter_tla,$action){
		global $relationship_matrix;
		$xfn_string = $relationship_matrix[$ego_tla][$alter_tla];
		$xfn_relationships = parse_xfn_relationship_types($xfn_string);
		//print_r($xfn_relationships);

		//determine closest relationship type
 		$strongest_type = get_closest_relationship_type($xfn_relationships);
		//echo"strongest_type = $strongest_type\n";		

		//determine strength of vote based on the strongest relationship tie
		switch($strongest_type){
			case 'family':
			case 'friendship':
			case 'romantic':
				$proximity_component = ($action == 'write')?1:2;
			break;

			case 'professional':
			case 'physical':
				$proximity_component = ($action == 'write')?2:3;
			break;

			case 'geographical':
				$proximity_component = ($action == 'write')?3:4;
			break;

			default:
				$proximity_component = 4;
			break;
		}

		return $proximity_component;
	}

////////////////////////
//determine closest relationship type
////////////////////////
function get_closest_relationship_type($related_person_array){
	//print_r($related_person_array);
	$family_relationship 		= ($related_person_array['family'] != '')?true:false;
	$friend_relationship 		= ($related_person_array['friendship'] == 'friend')?true:false; 
	$professional_relationship 	= ($related_person_array['professional'] != '' || $related_person_array['friendship'] == 'acquaintance')?true:false;
	$physical_relationship 		= ($related_person_array['physical'] != '')?true:false;

	$closest_relationship_type	= 'none'; 
	if($physical_relationship){
		$closest_relationship_type	= 'physical';
	}
	if($professional_relationship){
		$closest_relationship_type	= 'professional';
	}
	if($friend_relationship){
		$closest_relationship_type	= 'friendship';
	}
	if($family_relationship){
		$closest_relationship_type	= 'family';
	}
	//echo"$closest_relationship_type";
	return $closest_relationship_type;
}	


//Get three letter acronym associated with letter file
function get_author_tla($file){
		global $document;
		$pattern = '/<letter id="(?<tla>\w{3})(?<digit>\d*)">/'; //note use of named subpatterns! pretty cool
		preg_match($pattern, $document, $matches);
		$author_tla = $matches['tla'];

		//get tla from file name if no letter tag (legacy files)
		if(!$author_tla || $author_tla == ''){
			$author_tla = '';
			$pattern = "/[ltr|jrn|doc]{1}_(?<tla>[a-zA-Z]{2,4})\d{3,5}/";
			preg_match($pattern, $file, $matches);
			$author_tla = $matches['tla'];			
		}
		
		return $author_tla;
}

	//Get relationship anchor tags
	//<a href='/results.php?tla=alm' rel='colleague'>General McDougall</a>
	function get_person_relationship_tags(){
		global $document;
		//non-greedy retrieval of relationship anchor tags
		$pattern = '/<a href=.*(?<alter>tla=.*)[\'\"]{1} rel=[\'\"]{1}(?<relation>[friend|acquaintance|contact|adversary|met|co\-worker|colleague|child|parent|sibling|spouse|kin| ]*)[\'\"]{1}>(?<name>.*?)<\/a>/';		preg_match_all($pattern, $document, $matches); 
		return $matches;
	}

	//Organize relationship descriptive strings using xfn categories
	//note: 'adversary' is a modification on my part
	function parse_xfn_relationship_types($xfn_string){
		$xfn_categorized_relationship_strings = array('family'=>'','friendship'=>'','professional'=>'','romantic'=>'','physical'=>'','geographical'=>'','identity'=>'');

		//XFN relationship matrix
		$xfn_category_matrix = array(
			'friend'=>'friendship','acquaintance'=>'friendship','contact'=>'friendship','adversary'=>'friendship',
			'met'=>'physical',
			'co-worker'=>'professional','colleague'=>'professional',
			'co-resident'=>'geographical','neighbor'=>'geographical',
			'child'=>'family','parent'=>'family','sibling'=>'family','spouse'=>'family','kin'=>'family',
			'muse'=>'romantic','crush'=>'romantic','date'=>'romantic','sweetheart'=>'romantic',
			'me'=>'identity'
		);
		
		$relationships = explode(' ', $xfn_string);
		//echo"$xfn_string \n";
		foreach($relationships as $relation){
			$xfn_category = $xfn_category_matrix[$relation];
			$xfn_categorized_relationship_strings[$xfn_category] = $relation;
		}

		return $xfn_categorized_relationship_strings;
	}



?>
